"use strict";(self.webpackChunkEunoia=self.webpackChunkEunoia||[]).push([[13],{7561:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(7294),n=a(1120),l=a(8365),o=a(2822),s=a(998),i=a(5757),c=a(6869);const m=(0,n.Z)({preloader:{display:"flex"},avatar:{}}),d=()=>{const e=m();return r.createElement("div",{className:e.loaderUser},[1,1].map(((t,a)=>r.createElement(o.Z,{key:a},r.createElement(s.Z,null,r.createElement(c.Z,null,r.createElement(l.Z,{className:e.avatar,variant:"circle",width:50,height:50})),r.createElement(i.Z,null,r.createElement(l.Z,{variant:"text"})))))))}},2835:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(7294),n=a(1120),l=a(5258),o=a(8358),s=a(515);const i=(0,n.Z)((e=>({root:{flexGrow:1,height:"3.7rem",padding:"10px 0",height:"4.5rem",background:s.Z.white,top:0,boxShadow:"-3px 1px 3px 0px #e5e5e5","& .MuiToolbar-root":{padding:0,height:"100%"}},menuButton:{marginRight:e.spacing(2)}}))),c=({children:e,styles:t})=>{const a=i();return r.createElement(l.Z,{position:"sticky",className:a.root,style:t},r.createElement(o.Z,{variant:"dense"},e))}},1867:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(7294),n=a(1120),l=a(4741);const o=(0,n.Z)({searchbar:{width:"80%",borderBottom:"1px solid #e3e3e3",padding:"5px 15px",margin:"0 9px","& .MuiInputBase-input":{fontSize:".9rem",color:"#0d2c66"},"& .MuiInputAdornment-positionStart":{"& p":{color:"#63718d"}}}}),s=({input:e,onChange:t,placeholder:a="Search",classNames:n=[]})=>{const s=o();return r.createElement(l.Z,{className:[s.searchbar,...n].join(" "),placeholder:a,type:"text",value:e,onChange:({target:e})=>{t(e.value)}})}},6426:(e,t,a)=>{a.d(t,{Z:()=>m});var r=a(7294),n=a(3901),l=a(9009),o=a(1120);const s=["#6495ed","#cb64ed","#64ed94","#7364ed","#64a1ed","#edb664","#eda364","#64c7ed","#ed7d64","#ed6471"],i=(0,o.Z)({avatar:{fontWeight:"bold",textTransform:"uppercase"},offline:{"& .MuiBadge-dot":{boxShadow:"0px 0px 0px 2px #fff"}},online:{"& .MuiBadge-dot":{background:"#8ae76b",boxShadow:"0px 0px 0px 2px #fff"}}}),c=({props:e,style:t,firstAndLastName:a})=>{const o=i();return r.createElement(l.Z,{variant:"dot",className:o.online,overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.createElement(n.Z,{className:[o.avatar,e.className].join(" "),style:t},a))},m=e=>{const t=i(),a={background:s[e.username.split(" ").join("").length-1]||"#ed6471",...e.style};let l=e.username.trimEnd();l=l.trimStart();let o="",m=l.split(" ");return m.length<=2?m.forEach((e=>o+=e[0])):o=m[0][0]+m[m.length-1][0],e.badge?r.createElement(c,{props:e,style:a,firstAndLastName:o}):r.createElement(n.Z,{className:[e.className,t.avatar].join(" "),style:a},o)}},8013:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var r=a(7294),n=a(9704),l=a(6869),o=a(5757),s=a(998),i=a(7812),c=a(4741),m=a(2318),d=a(1267),p=a(6447),u=a(4170),h=a(6856),g=a(9525),E=a(6083),x=a(2157),v=a(282),Z=a(4379),f=a(1395),b=a(637),y=a(1120),w=a(9585),N=a(5076),C=a(6614),k=a(5953),S=a(6426),I=a(2835),M=a(7561),T=(a(1867),a(2005)),U=a(3268),L=a(9008);const B=(0,y.Z)({groupUsers:{},header:{},searchbar:{width:"94%",paddingLeft:"20px",margin:"15px 0 10px 12px",borderRadius:"30px",boxShadow:"0 0 5px 2px #e9e9e9",height:"40px"},chips:{padding:"10px","& .MuiChip-root":{marginRight:5,marginBottom:5},"& .MuiChip-iconColorPrimary":{color:"#fafafa"},"& .MuiAvatar-root":{height:"28px",width:"28px",fontSize:"1rem"},"& .MuiChip-label":{}},listItem:{position:"relative"},checked:{position:"absolute",right:"10px","& .MuiSvgIcon-root":{fontSize:"1rem",color:"#8e9bb1"}},fab:{"&:hover":{backgroundColor:"cornflowerblue"},height:"auto",width:"auto",padding:"3% !important",background:"cornflowerblue",color:"#fff",boxShadow:"0 0 5px 1px #0000001c",position:"sticky",bottom:"1rem",left:"85%"},participants:{margin:"20px 0","& > div":{paddingLeft:5,marginTop:8,display:"flex","& > div":{marginRight:3}}},dialog:{"& .MuiDialog-paperScrollPaper":{minWidth:"285px"}}}),P=({user:e,isSelected:t})=>{const a=B(),i=(0,n.I0)();return r.createElement(s.Z,{button:!0,className:a.listItem,onClick:()=>{i((0,N.P)(e))},disabled:t},r.createElement(l.Z,null,r.createElement(S.Z,{username:e.username})),r.createElement(o.Z,{primary:r.createElement(m.Z,{component:"h6",style:{fontFamily:"Roboto"}}," ",e.username)}),t&&r.createElement("div",{className:a.checked},r.createElement(f.Z,null)))},j=({className:e})=>{const{id:t,username:a,online:l}=(0,n.v9)((e=>e.account.account)),o=B(),s=(0,n.I0)(),{useEffect:f,useState:y}=r,j=(0,n.v9)((e=>e.activeUsers.showActiveUsersLoader)),z=(0,n.v9)((e=>e.groups.selectedUsers)),A=(0,n.v9)((e=>e.activeUsers.activeUsers)),[D,R]=y(A),[G,K]=y(!1),[W,$]=y(""),[q,O]=y(!1),[F,H]=y({error:!1,helperText:""}),J=()=>{s((0,w.T6)({component:"recentChats",parent:"stack"}))},Q=()=>{K(!G)},V=()=>{if(!l)return s((0,k.Pc)({open:!0})),s((0,w.T6)({component:"recentChats",value:!0})),!1;if(null!==W.match(/[0-9a-z]/i)){const e=new Date,t=e.getTime(),r=(0,T.hi)(e),n={name:W,createdBy:{username:a},createdAt:new Date,participants:z.concat({username:a}),admins:[{username:a}],messages:[{type:"alert",chatId:t,message:`${a} created this group`,timestamp:r},{type:"alert",chatId:t,message:`${a} added ${z.map((e=>e.username)).join(", ")} to the group`,timestamp:r}]};(0,U.Z)("newGroup",n,(()=>{(0,L.fq)((e=>s((0,C.rO)(e)))),J()}))}else H({error:!0,helperText:"Please enter a group name"})};return r.createElement("section",{className:[o.groupUsers,e].join(" ")},r.createElement(I.Z,null,r.createElement(i.Z,{onClick:J},r.createElement(Z.Z,null)),r.createElement(m.Z,{component:"h6"}," Create New Group ")),r.createElement(c.Z,{className:o.searchbar,placeholder:"Search a user",type:"text",onChange:({target:e})=>{var t;t=e.value,R(A.filter((e=>e.username.toLowerCase().includes(t.toLowerCase()))))}}),r.createElement("div",{className:o.chips},z.map(((e,t)=>r.createElement(d.Z,{key:e.pId,icon:r.createElement(S.Z,{username:e.username,badge:!1}),label:e.username,color:"primary",onDelete:()=>(e=>{s((0,N.qL)(e))})(e),variant:"outlined"})))),r.createElement("div",{className:o.userslist},j?r.createElement(M.Z,null):D.map((e=>r.createElement(P,{user:e,key:e.pId,isSelected:-1!==z.findIndex((t=>t.username===e.username))})))),r.createElement(i.Z,{variant:"extended",size:"small",color:"primary","aria-label":"add",className:o.fab,onClick:Q,disabled:!(z.length>0)},r.createElement(b.Z,{className:o.extendedIcon})),r.createElement(u.Z,{open:G,className:o.dialog,onClose:Q,"aria-labelledby":"form-dialog-title"},r.createElement(E.Z,{id:"form-dialog-title"},"Create New Group"),r.createElement(g.Z,null,r.createElement(x.Z,{placeholder:"Enter group name here",style:{width:"100%"},value:W,onChange:({target:e})=>{return t=e.value,H({error:!1,helperText:""}),void $(t);var t},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||e.ctrlKey||(e.preventDefault(),V())},error:F.error,helperText:F.helperText}),r.createElement("div",{className:o.participants},r.createElement(m.Z,null," Participants "),r.createElement("div",null,z.map(((e,t)=>r.createElement(p.ZP,{title:e.username,"aria-label":"username",key:t},r.createElement("div",{className:o.groupUser},r.createElement(S.Z,{username:e.username,badge:!1})))))))),r.createElement(h.Z,null,r.createElement(v.Z,{color:"primary",onClick:Q}," Cancel "),r.createElement(v.Z,{style:{color:"red"},onClick:V}," Create "))))}},3268:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(6140);function n(e,...t){var a,n;a=e,n=t,r.W.emit(a,...n)}}}]);