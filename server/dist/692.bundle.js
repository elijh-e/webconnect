"use strict";(self.webpackChunkwebconnect=self.webpackChunkwebconnect||[]).push([[692],{8405:(e,o,r)=>{r.d(o,{Z:()=>i});var t=r(7294),n=r(1120),s=r(5258),a=r(8358),c=r(515);const d=(0,n.Z)((e=>({root:{flexGrow:1,height:"3.7rem",padding:"10px 0",height:"4.5rem",background:c.Z.white,top:0,boxShadow:"-3px 1px 3px 0px #e5e5e5","& .MuiToolbar-root":{padding:0,height:"100%"}},menuButton:{marginRight:e.spacing(2)}}))),i=({children:e,styles:o})=>{const r=d();return t.createElement(s.Z,{position:"sticky",className:r.root,style:o},t.createElement(a.Z,{variant:"dense"},e))}},6692:(e,o,r)=>{r.r(o),r.d(o,{default:()=>x});var t=r(7294),n=r(2157),s=r(282),a=r(7397),c=r(1120),d=r(4837),i=r(7812),l=r(2318),m=r(1270),w=r(1738),p=r(4379),u=r(8963),f=r(1019),P=r(9753),h=(r(3084),r(9585)),g=r(5953),y=r(9704),E=r(8405),Z=r(7388),v=r(1865);const b=(0,c.Z)({body:{margin:"20px 0"},form:{width:"90%",margin:"0 auto",display:"flex",flexDirection:"column","& .MuiFormControl-root":{paddingBottom:10},"& .MuiButtonGroup-root":{marginTop:10,flexDirection:"column","& button":{boxShadow:"-1px 1px 1px 0px #c3c3c3",fontSize:".84rem",marginBottom:10,color:"#fff"}}},input:{"& .MuiOutlinedInput-root":{"& input":{padding:"10px",fontSize:".95rem"},"& .MuiSvgIcon-root":{fontSize:"1.2rem"}}}}),x=({className:e})=>{const{id:o}=(0,y.v9)((e=>e.account.account)),r=(0,y.I0)(),c=b(),[x,S]=t.useState({severity:"",msg:"",show:!1}),[C,N]=t.useState(!1),[T,k]=t.useState({former:!1,newPassword:!1,confirmPassword:!1}),[A,I]=t.useState({former:"",newPassword:"",confirmPassword:""}),[O,M]=t.useState({former:!1,newPassword:!1,confirmPassword:!1}),[B,J]=t.useState({former:"",newPassword:"",confirmPassword:""}),U=()=>{r((0,h.T6)({component:"settings",parent:"stack"}))},q=(e,o)=>{M({...O,former:!1,newPassword:!1,confirmPassword:!1}),J({...B,former:"",newPassword:"",confirmPassword:""}),"former"===o&&I({...A,former:e}),"newPassword"===o&&I({...A,newPassword:e}),"confirmPassword"===o&&I({...A,confirmPassword:e})},z=e=>{k({...T,[`${e}`]:!T[`${e}`]})};return t.createElement(t.Fragment,null,t.createElement("section",{className:[c.resetPassword,e].join(" ")},t.createElement(E.Z,null,t.createElement(i.Z,{onClick:U},t.createElement(p.Z,null)),t.createElement(l.Z,{component:"h6"}," Reset Password "),C&&t.createElement(Z.Z,null)),t.createElement("div",{className:c.body},t.createElement("form",{onSubmit:async e=>{e.preventDefault(),N(!0);const{former:o,newPassword:t,confirmPassword:n}=A;(0,v.mw)({former:o},(async e=>(N(!1),403===e.status?(M({...O,former:!0}),void J({...B,former:"Passwords do not match"})):t!==n?(M({...O,confirmPassword:!0,newPassword:!0}),void J({...B,confirmPassword:"Passwords do not match"})):t.length<5?(M({...O,confirmPassword:!0,newPassword:!0}),void J({...B,confirmPassword:"Password is too short. Password length should be more than 5 characters"})):void(async()=>{N(!0),(0,v.c0)(A,(e=>{I({...A,former:"",newPassword:"",confirmPassword:""}),N(!1),U(),200===e.status?r((0,g.Pc)({open:!0,msg:"Password updated successfully",severity:"success"})):r((0,g.Pc)({open:!0,msg:"Something went wrong",severity:"error"}))}))})())))},className:c.form},t.createElement(n.Z,{variant:"outlined",onChange:e=>q(e.target.value,"former"),className:c.input,value:A.former,placeholder:"Former password",type:"password",required:!0,error:O.former,type:T.former?"text":"password",helperText:B.former,autoComplete:"current-password",InputProps:{startAdornment:t.createElement(a.Z,{position:"start"},t.createElement(f.Z,{color:"secondary"})),endAdornment:t.createElement(a.Z,{position:"end"},t.createElement(i.Z,{color:"secondary","aria-label":"Toggle password visibility",onClick:()=>z("former")},T.former?t.createElement(m.Z,null):t.createElement(w.Z,null)))}}),t.createElement(n.Z,{variant:"outlined",className:c.input,onChange:e=>q(e.target.value,"newPassword"),value:A.newPassword,placeholder:"New password",type:"password",required:!0,autoComplete:"new-password",error:O.newPassword,type:T.newPassword?"text":"password",InputProps:{startAdornment:t.createElement(a.Z,{position:"start"},t.createElement(u.Z,{color:"secondary"})),endAdornment:t.createElement(a.Z,{position:"end"},t.createElement(i.Z,{color:"secondary","aria-label":"Toggle password visibility",onClick:()=>z("newPassword")},T.newPassword?t.createElement(m.Z,null):t.createElement(w.Z,null)))}}),t.createElement(n.Z,{variant:"outlined",className:c.input,onChange:e=>q(e.target.value,"confirmPassword"),value:A.confirmPassword,placeholder:"Confirm password",type:"password",required:!0,autoComplete:"new-password",error:O.confirmPassword,helperText:B.confirmPassword,type:T.confirmPassword?"text":"password",InputProps:{startAdornment:t.createElement(a.Z,{position:"start"},t.createElement(P.Z,{color:"secondary"})),endAdornment:t.createElement(a.Z,{position:"end"},t.createElement(i.Z,{color:"secondary","aria-label":"Toggle password visibility",onClick:()=>z("confirmPassword")},T.confirmPassword?t.createElement(m.Z,null):t.createElement(w.Z,null)))}}),t.createElement(d.Z,null,t.createElement(s.Z,{variant:"contained",disabled:C,type:"submit",color:"primary"},"Update password"),t.createElement(s.Z,{onClick:U,color:"primary",variant:"contained",type:"button"},"Cancel"))))))}},1865:(e,o,r)=>{r.d(o,{c0:()=>s,dP:()=>c,g5:()=>a,mw:()=>n});const t=new Headers;function n(e,o){e=JSON.stringify(e);const[r,n]=["/account/matchPassword","POST"];fetch(r,{method:n,headers:t,body:e}).then((e=>{o(e)})).catch((e=>{}))}function s(e,o){e=e=JSON.stringify(e);const[r,n]=["/account/updatePassword","PUT"];fetch(r,{method:n,headers:t,body:e}).then((e=>{o(e)})).catch((e=>{}))}function a(e,o){e=JSON.stringify(e);const[r,n]=["/account/updateSocials","PUT"];fetch(r,{method:n,headers:t,body:e}).then((e=>{o(e)}))}function c(e,o){e=JSON.stringify(e);const[r,n]=["/account/updateSocials","PUT"];fetch(r,{method:n,headers:t,body:e}).then((e=>{o(e)}))}t.append("Content-Type","application/json")}}]);